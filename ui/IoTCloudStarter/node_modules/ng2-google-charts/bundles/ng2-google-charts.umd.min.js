!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("@angular/core")):"function"==typeof define&&define.amd?define(["@angular/core"],e):"object"==typeof exports?exports["ng2-google-charts.umd.min"]=e(require("@angular/core")):t["ng2-google-charts.umd.min"]=e(t["@angular/core"])}(window,function(t){return function(t){var e={};function o(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,o),n.l=!0,n.exports}return o.m=t,o.c=e,o.d=function(t,e,r){o.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:r})},o.r=function(t){Object.defineProperty(t,"__esModule",{value:!0})},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=4)}([function(e,o){e.exports=t},function(t,e){},function(t,e){},function(t,e){},function(t,e,o){"use strict";o.r(e);var r=o(0),n=function(){function t(t){this.tooltipDOMElement=t}return t.prototype.setPosition=function(e,o){this.tooltipDOMElement.nativeElement.style.left=e+t.PIXELS,this.tooltipDOMElement.nativeElement.style.top=o+t.PIXELS},t.prototype.getDOMElement=function(){return this.tooltipDOMElement},t.PIXELS="px",t}(),i=function(t,e,o,r){var n,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,o,a):n(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},a=function(){function t(t,e){var o=this;this.mouseOverListener=function(t){var e=o.parseMouseEvent(t);return e.tooltip=o.getHTMLTooltip(),e},this.mouseOutListener=function(t){return o.parseMouseEvent(t)},this.selectListener=function(){var t={message:"select",row:null,column:null,selectedRowValues:[],selectedRowFormattedValues:[],columnLabel:""},e=o.wrapper.visualization.getSelection(),r=e[e.length-1];if(!r)return t.message="deselect",t;var n=r;if(null!=r.row){t.row=n.row;for(var i=[],a=[],s=o.wrapper.getDataTable(),u=s.getNumberOfColumns(),l=0;l<u;l++)i.push(s.getValue(n.row,l)),a.push(s.getFormattedValue(n.row,l));t.selectedRowValues=i,t.selectedRowFormattedValues=a}return null!=n.column&&(t.column=n.column,t.columnLabel=o.getColumnLabelAtPosition(n)),r.name&&(t.columnLabel=r.name),t},this.el=t,this.loaderService=e,this.chartSelect=new r.EventEmitter,this.chartSelectOneTime=new r.EventEmitter,this.chartReady=new r.EventEmitter,this.chartReadyOneTime=new r.EventEmitter,this.chartError=new r.EventEmitter,this.chartErrorOneTime=new r.EventEmitter,this.mouseOver=new r.EventEmitter,this.mouseOverOneTime=new r.EventEmitter,this.mouseOut=new r.EventEmitter,this.mouseOutOneTime=new r.EventEmitter}return t.prototype.ngOnChanges=function(t){var e=this;if(t.data){if(!this.data)return;this.options=this.data.options,this.options||(this.options={}),this.data.component=this,this.loaderService.load().then(function(){void 0!==e.wrapper&&e.wrapper.getChartType()===e.data.chartType||(e.convertOptions(),e.data.opt_firstRowIsData&&Array.isArray(e.data.dataTable)&&(e.data.dataTable=google.visualization.arrayToDataTable(e.data.dataTable,!0)),e.wrapper=new google.visualization.ChartWrapper(e.data),e.registerChartWrapperEvents()),e.draw()})}},t.prototype.draw=function(){this.wrapper.setDataTable(this.data.dataTable),this.convertOptions(),this.wrapper.setOptions(this.options),this.reformat(),this.wrapper.draw(this.el.nativeElement.querySelector("div"))},t.prototype.reformat=function(){if(this.data&&void 0!==this.data.formatters)for(var t=0,e=this.data.formatters;t<e.length;t++){var o=e[t],r=google.visualization[o.type],n=o.options,i=new r(n);if("ColorFormat"===o.type&&n)for(var a=0,s=n.ranges;a<s.length;a++){var u=s[a];void 0!==u.fromBgColor&&void 0!==u.toBgColor?i.addGradientRange(u.from,u.to,u.color,u.fromBgColor,u.toBgColor):i.addRange(u.from,u.to,u.color,u.bgcolor)}for(var l=this.wrapper.getDataTable(),c=0,p=o.columns;c<p.length;c++){var h=p[c];i.format(l,h)}}},t.prototype.getSelectorBySeriesType=function(t){return{bars:"bar#%s#%r",haxis:"hAxis#0#label",line:"point#%s#%r",legend:"legendentry#%s",area:"point#%s#%r"}[t]},t.prototype.getSeriesByColumn=function(t){for(var e=0,o=this.wrapper.getDataTable(),r=t-1;r>=0;r--){var n=o.getColumnRole(r),i=o.getColumnType(r);"data"!==n&&"number"!==i||e++}return e},t.prototype.getBoundingBoxForItem=function(t){var e={top:0,left:0,width:0,height:0};if(this.cli){var o=t.column,r=this.getSeriesByColumn(o),n=t.row,i=this.options.seriesType;if(this.options.series&&this.options.series[r]&&this.options.series[r].type&&(i=this.options.series[r].type),i){var a=this.getSelectorBySeriesType(i);if(a){a=a.replace("%s",r+"").replace("%c",o+"").replace("%r",n+"");var s=this.cli.getBoundingBox(a);s&&(e=s)}}}return e},t.prototype.getValueAtPosition=function(t){return null==t.row?null:this.wrapper.getDataTable().getValue(t.row,t.column)},t.prototype.getColumnTypeAtPosition=function(t){return this.wrapper.getDataTable().getColumnType(t.column)||""},t.prototype.getColumnLabelAtPosition=function(t){return this.wrapper.getDataTable().getColumnLabel(t.column)||""},t.prototype.getHTMLTooltip=function(){var t=new r.ElementRef(this.el.nativeElement.querySelector(".google-visualization-tooltip"));return new n(t)},t.prototype.parseMouseEvent=function(t){var e=this.wrapper.getChartType(),o=t.column;if(null==o)switch(e){case"Timeline":o=3===this.wrapper.getDataTable().getNumberOfColumns()?0:1;break;default:o=0}var r={row:t.row,column:o};return{position:t,boundingBox:this.getBoundingBoxForItem(r),value:this.getValueAtPosition(r),columnType:this.getColumnTypeAtPosition(r),columnLabel:this.getColumnLabelAtPosition(r)}},t.prototype.unregisterEvents=function(){google.visualization.events.removeAllListeners(this.wrapper.getChart()),google.visualization.events.removeAllListeners(this.wrapper)},t.prototype.registerChartEvents=function(){var t=this,e=this.wrapper.getChart();this.cli=e.getChartLayoutInterface?e.getChartLayoutInterface():null,this.mouseOver.observers.length>0&&google.visualization.events.addListener(e,"onmouseover",function(e){var o=t.parseMouseEvent(e);o.tooltip=t.getHTMLTooltip(),t.mouseOver.emit(o)}),this.mouseOverOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseover",function(e){var o=t.parseMouseEvent(e);o.tooltip=t.getHTMLTooltip(),t.mouseOverOneTime.emit(o)}),this.mouseOut.observers.length>0&&google.visualization.events.addListener(e,"onmouseout",function(e){var o=t.parseMouseEvent(e);t.mouseOut.emit(o)}),this.mouseOutOneTime.observers.length>0&&google.visualization.events.addOneTimeListener(e,"onmouseout",function(e){var o=t.parseMouseEvent(e);t.mouseOutOneTime.emit(o)})},t.prototype.registerChartWrapperEvents=function(){var t=this;google.visualization.events.addListener(this.wrapper,"ready",function(){t.chartReady.emit({message:"Chart ready"})}),google.visualization.events.addOneTimeListener(this.wrapper,"ready",function(){t.chartReadyOneTime.emit({message:"Chart ready (one time)"}),t.registerChartEvents()}),google.visualization.events.addListener(this.wrapper,"error",function(e){t.chartError.emit(e)}),google.visualization.events.addOneTimeListener(this.wrapper,"error",function(e){t.chartErrorOneTime.emit(e)}),this.addListener(this.wrapper,"select",this.selectListener,this.chartSelect),this.addOneTimeListener(this.wrapper,"select",this.selectListener,this.chartSelectOneTime)},t.prototype.addListener=function(t,e,o,r){google.visualization.events.addListener(t,e,function(){r.emit(o())})},t.prototype.addOneTimeListener=function(t,e,o,r){google.visualization.events.addOneTimeListener(t,e,function(){r.emit(o())})},t.prototype.convertOptions=function(){try{this.options=google.charts[this.data.chartType].convertOptions(this.options)}catch(t){return}},i([Object(r.Input)()],t.prototype,"data",void 0),i([Object(r.Output)()],t.prototype,"chartReady",void 0),i([Object(r.Output)()],t.prototype,"chartReadyOneTime",void 0),i([Object(r.Output)()],t.prototype,"chartError",void 0),i([Object(r.Output)()],t.prototype,"chartErrorOneTime",void 0),i([Object(r.Output)()],t.prototype,"chartSelect",void 0),i([Object(r.Output)()],t.prototype,"chartSelectOneTime",void 0),i([Object(r.Output)()],t.prototype,"mouseOver",void 0),i([Object(r.Output)()],t.prototype,"mouseOverOneTime",void 0),i([Object(r.Output)()],t.prototype,"mouseOut",void 0),i([Object(r.Output)()],t.prototype,"mouseOutOneTime",void 0),t=i([Object(r.Component)({selector:"google-chart",template:"<div></div>",changeDetection:r.ChangeDetectionStrategy.OnPush})],t)}(),s=o(3),u=o(2),l=o(1),c=function(){var t=function(e,o){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])})(e,o)};return function(e,o){function r(){this.constructor=e}t(e,o),e.prototype=null===o?Object.create(o):(r.prototype=o.prototype,new r)}}(),p=function(){return function(){}}(),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(p),g=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(p),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return c(e,t),e}(p),d=function(t,e,o,r){var n,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,o,a):n(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},m=function(t,e){return function(o,r){e(o,r,t)}},v=function(){function t(t,e,o){this.googleChartsVersion=e,this.mapsApiKey=o,this.googleScriptLoadingNotifier=new r.EventEmitter,this.googleScriptIsLoading=!1,this.localeId=t,null===this.googleChartsVersion&&(this.googleChartsVersion="46")}return t.prototype.load=function(t){var e=this;return new Promise(function(o,r){void 0===o&&(o=Function.prototype),void 0===r&&(r=Function.prototype),e.loadGoogleChartsScript().then(function(){var r={language:e.localeId,callback:o,packages:t};e.mapsApiKey&&(r.mapsApiKey=e.mapsApiKey),google.charts.load(e.googleChartsVersion,r)}).catch(function(t){return r()})})},t.prototype.loadGoogleChartsScript=function(){var t=this;return new Promise(function(e,o){if(void 0===e&&(e=Function.prototype),void 0===o&&(o=Function.prototype),"undefined"!=typeof google&&google.charts)e();else if(t.googleScriptIsLoading)t.googleScriptLoadingNotifier.subscribe(function(t){t?e():o()});else{t.googleScriptIsLoading=!0;var r=document.createElement("script");r.type="text/javascript",r.src="https://www.gstatic.com/charts/loader.js",r.async=!0,r.defer=!0,r.onload=function(){t.googleScriptIsLoading=!1,t.googleScriptLoadingNotifier.emit(!0),e()},r.onerror=function(){t.googleScriptIsLoading=!1,t.googleScriptLoadingNotifier.emit(!1),o()},document.getElementsByTagName("head")[0].appendChild(r)}})},t=d([Object(r.Injectable)(),m(0,Object(r.Inject)(r.LOCALE_ID)),m(1,Object(r.Inject)("googleChartsVersion")),m(1,Object(r.Optional)()),m(2,Object(r.Inject)("mapsApiKey")),m(2,Object(r.Optional)())],t)}(),y=function(t,e,o,r){var n,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;s>=0;s--)(n=t[s])&&(a=(i<3?n(a):i>3?n(e,o,a):n(e,o))||a);return i>3&&a&&Object.defineProperty(e,o,a),a},O=function(){function t(){}return t=y([Object(r.NgModule)({declarations:[a],providers:[v],exports:[a]})],t)}();o.d(e,"GoogleChartComponent",function(){return a}),o.d(e,"ChartReadyEvent",function(){return s.ChartReadyEvent}),o.d(e,"ChartErrorEvent",function(){return u.ChartErrorEvent}),o.d(e,"ChartSelectEvent",function(){return l.ChartSelectEvent}),o.d(e,"ChartHTMLTooltip",function(){return n}),o.d(e,"ChartMouseOverEvent",function(){return g}),o.d(e,"ChartMouseOutEvent",function(){return f}),o.d(e,"MouseOverEvent",function(){return h}),o.d(e,"BoundingBox",function(){}),o.d(e,"DataPointPosition",function(){}),o.d(e,"Ng2GoogleChartsModule",function(){return O})}])});
//# sourceMappingURL=ng2-google-charts.umd.min.js.map